diff -Npur opencv-4.5.2/3rdparty/libtiff/tif_luv.c opencv-4.5.2-change/3rdparty/libtiff/tif_luv.c
--- opencv-4.5.2/3rdparty/libtiff/tif_luv.c	2021-04-02 19:23:54.000000000 +0800
+++ opencv-4.5.2-change/3rdparty/libtiff/tif_luv.c	2024-06-18 11:23:19.705487892 +0800
@@ -929,6 +929,13 @@ uv_encode(double u, double v, int em)	/*
 {
 	register int	vi, ui;
 
+    /* check for NaN */
+    if (u != u || v != v)
+    {
+        u = U_NEU;
+        v = V_NEU;
+    }
+
 	if (v < UV_VSTART)
 		return oog_encode(u, v);
 	vi = tiff_itrunc((v - UV_VSTART)*(1./UV_SQSIZ), em);
