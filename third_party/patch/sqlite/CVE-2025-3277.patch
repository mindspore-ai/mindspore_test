diff -Npur sqlite-version-3.46.1/src/func.c sqlite-version-3.46.1-change/src/func.c
--- sqlite-version-3.46.1/src/func.c	2024-08-13 17:16:08.000000000 +0800
+++ sqlite-version-3.46.1-change/src/func.c	2025-04-15 15:31:49.163001986 +0800
@@ -1570,7 +1570,7 @@ static void concatFuncCore(
   for(i=0; i<argc; i++){
     n += sqlite3_value_bytes(argv[i]);
   }
-  n += (argc-1)*nSep;
+  n += (argc-1)*(i64)nSep;
   z = sqlite3_malloc64(n+1);
   if( z==0 ){
     sqlite3_result_error_nomem(context);
